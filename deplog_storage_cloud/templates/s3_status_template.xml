<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="s3_status_template" name="S3 Storage Status">
        <html>
            <head>
                <title>S3 Storage Status</title>
                <style>
                    body { font-family: Arial, sans-serif; margin: 20px; }
                    .card { border: 1px solid #ddd; border-radius: 5px; margin-bottom: 20px; }
                    .card-header { background-color: #f8f9fa; padding: 10px 15px; border-bottom: 1px solid #ddd; }
                    .card-body { padding: 15px; }
                    .card-footer { padding: 10px 15px; background-color: #f8f9fa; border-top: 1px solid #ddd; }
                    .alert-success { color: #155724; background-color: #d4edda; border: 1px solid #c3e6cb; padding: 10px; border-radius: 5px; margin-bottom: 15px; }
                    .alert-warning { color: #856404; background-color: #fff3cd; border: 1px solid #ffeeba; padding: 10px; border-radius: 5px; margin-bottom: 15px; }
                    .table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
                    .table th, .table td { padding: 10px; border: 1px solid #ddd; }
                    .btn { display: inline-block; padding: 6px 12px; background-color: #007bff; color: white; text-decoration: none; border-radius: 4px; }
                </style>
            </head>
            <body>
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="card">
                                <div class="card-header">
                                    <h3>S3 Storage Status</h3>
                                </div>
                                <div class="card-body">
                                    <t t-if="status.get('configured')">
                                        <div class="alert-success">
                                            <strong>S3 Storage is configured and active</strong>
                                        </div>
                                        <table class="table">
                                            <tr>
                                                <th>Bucket Name</th>
                                                <td><t t-esc="status.get('bucket')"/></td>
                                            </tr>
                                            <tr>
                                                <th>Region</th>
                                                <td><t t-esc="status.get('region')"/></td>
                                            </tr>
                                        </table>
                                        
                                        <h4>Statistics</h4>
                                        <table class="table">
                                            <tr>
                                                <th>Files in S3</th>
                                                <td><t t-esc="status['statistics'].get('s3_files')"/></td>
                                            </tr>
                                            <tr>
                                                <th>Total Files</th>
                                                <td><t t-esc="status['statistics'].get('total_files')"/></td>
                                            </tr>
                                            <tr>
                                                <th>S3 Storage Percentage</th>
                                                <td><t t-esc="status['statistics'].get('s3_percentage')"/>%</td>
                                            </tr>
                                        </table>
                                    </t>
                                    <t t-else="">
                                        <div class="alert-warning">
                                            <strong><t t-esc="status.get('message')"/></strong>
                                            <p>Please configure S3 Storage in Settings to use this feature.</p>
                                        </div>
                                    </t>
                                </div>
                                <div class="card-footer">
                                    <a href="/web#action=odoo_s3_storage.action_s3_storage_settings" class="btn">
                                        Configure S3 Storage
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </body>
        </html>
    </template>
</odoo>